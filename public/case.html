<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>응답은 최상위 JSON 배열 리터럴이어야 합니다 — 원인과 해결</title>
  <meta name="description" content="API 호출 시 '응답은 최상위 JSON 배열 리터럴이어야 합니다.' 오류의 원인과 점검·수정 방법을 간단히 정리한 가이드." />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="site-shell">
    <header class="site-header">
      <a class="brand" href="./index.html"><span>💸</span>떼인 돈 계산기</a>
      <a class="ghost-link" href="./calculator.html">메인 계산기</a>
    </header>

    <div class="breadcrumb-wrap">
      <div class="breadcrumb">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 3.172 3 10.172V20a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-4h4v4a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-9.828l-9-7Z"/>
        </svg>
        <a href="./calculator.html">홈</a>
        <span class="breadcrumb-sep">›</span>
        <a href="./index.html">상황별 미수금 가이드</a>
        <span class="breadcrumb-sep">›</span>
        <span class="breadcrumb-current breadcrumb-ellipsis">응답은 최상위 JSON 배열 리터럴이어야 합니다 — 원인과 해결</span>
      </div>
    </div>

    <section class="hero">
      <h1>응답은 최상위 JSON 배열 리터럴이어야 합니다 오류 해결 가이드</h1>
      <p class="subtitle">API 클라이언트가 배열을 기대할 때 발생하는 원인과 빠른 수정 방법을 안내합니다.</p>
      <p class="intro">API 호출에서 '응답은 최상위 JSON 배열 리터럴이어야 합니다.' 메시지를 보셨나요? 당황스러우실 수 있습니다. 이 페이지는 오류의 주요 원인과 점검·수정 순서를 단계별로 도와드리겠습니다.</p>
    </section>

    
      <section class="section" id="overview">
        <h2>무엇이 문제인가요?</h2>
        <p>해당 오류는 클라이언트가 응답의 최상위 구조가 JSON 배열([])이기를 기대할 때 발생합니다. 서버가 객체({}), 문자열, 빈 응답, 혹은 배열이 아닌 다른 형식을 보내면 파싱 에러로 이어질 수 있습니다.</p>
      </section>
        
      <section class="section" id="common-causes">
        <h2>자주 발생하는 원인</h2>
        <p>프레임워크가 응답을 자동으로 객체로 래핑하거나 메타 필드를 붙이는 경우. 응답 앞뒤에 로그·경고·BOM 등 불필요한 출력이 섞인 경우. Content-Type이 application/json으로 지정되지 않았거나 JSONP/콜백으로 응답하는 경우. 클라이언트 스펙과 서버 응답이 서로 다른 경우.</p>
      </section>
        
      <section class="section" id="quick-fixes">
        <h2>빠르게 점검하고 고치는 방법</h2>
        <p>1) API 스펙을 확인해 클라이언트가 배열을 기대하는지 재확인하세요. 2) 서버에서 실제로 배열을 직렬화해서 반환하는지 확인하세요. 3) 응답 헤더에 Content-Type: application/json이 있는지 점검하세요. 4) 로그 출력이나 디버그 문자열이 응답 본문에 포함되지 않도록 제거하세요. 5) 프레임워크 설정에서 응답 포맷 래핑이나 JSONP를 비활성화하세요. 문제가 지속되면 요청/응답 원문을 캡처해 비교하세요.</p>
      </section>
        
      <section class="section" id="language-specific-tips">
        <h2>언어·프레임워크별로 확인할 포인트</h2>
        <p>Node/Express: res.json에 배열을 전달하는지, 미들웨어가 응답을 변형하지 않는지 확인하세요. Python/Flask: jsonify에 리스트를 넘기는지, 반환 앞에 print가 없는지 보세요. Ruby on Rails: render json: 배열을 사용하고, Jbuilder 등에서 루트 래핑을 끄세요. 서버 언어와 프레임워크에 따라 직렬화 설정이 결과를 바꿀 수 있습니다.</p>
      </section>
        
      <section class="section" id="testing-tools">
        <h2>검증·디버깅 도구</h2>
        <p>curl이나 Postman으로 원시 응답을 확인하세요. 응답 본문을 JSON 검증기나 jq로 파싱해 구조를 확인하면 문제 원인 파악에 도움이 됩니다. 클라이언트 로그와 서버 로그를 함께 비교하세요.</p>
      </section>
        
      <section class="section" id="when-to-change-client">
        <h2>클라이언트를 바꿔야 할까요?</h2>
        <p>서버가 규격상 배열이 아닌 객체를 반환해야 하는 경우 클라이언트를 변경하는 것이 맞습니다. 반대로 클라이언트가 잘못 기대하는 경우에는 서버 응답을 스펙에 맞게 조정하는 편이 안전합니다. 양쪽 스펙을 맞춰 합의하는 것이 최선입니다.</p>
      </section>
        

    <section class="section">
      <h2>FAQ</h2>
      <div class="mb-4 rounded-md bg-gray-50 border border-gray-200 px-3 py-2 text-xs text-gray-600">
        ※ 아래 답변들은 실제 사례들을 바탕으로 정리한 <strong>일반적인 안내</strong>입니다.<br>
        개별 사건에 그대로 적용되지는 않을 수 있고, 구체적인 결론은 사실관계·증거·법원 판단에 따라 달라질 수 있습니다.
      </div>
      <div class="faq">
        
        <details>
          <summary>왜 일부 API는 최상위 배열을 요구하나요?</summary>
          <div>클라이언트 라이브러리나 사양이 항목 목록을 배열로 파싱하도록 설계된 경우입니다. 또한 특정 프로토콜이나 레거시 클라이언트가 배열 구조를 전제로 하는 사례도 있습니다.</div>
        </details>
        
        <details>
          <summary>서버에서 배열을 반환하는데도 같은 오류가 나요.</summary>
          <div>본문 앞뒤에 보이지 않는 문자(BOM, 공백)나 로그 출력이 섞여 있으면 파서가 배열을 인식하지 못합니다. Content-Type 헤더나 프록시·게이트웨이에서 응답을 변형하는지도 확인하세요.</div>
        </details>
        
        <details>
          <summary>응답을 객체로 바꾸면 안 되나요?</summary>
          <div>가능하긴 하지만 클라이언트와의 계약(스펙)에 따라 달라집니다. 클라이언트가 배열을 기대하면 서버를 맞추는 것이 안전합니다. 반대로 스펙을 변경한다면 클라이언트도 같이 업데이트해야 합니다.</div>
        </details>
        
      </div>
      <p class="mt-4 text-xs text-gray-500">
        ※ 이 Q&A는 실제 상담을 대신하는 것이 아니라, 비슷한 상황에서 많이 나오는 질문을 정리한 일반적인 안내입니다.
      </p>
    </section>

    <section class="section">
      <h2>떼인 돈 계산기로 금액 확인하기</h2>
      <p>원금과 약정일을 넣어 지연손해금을 계산해 두면 요구액을 명확히 정리할 수 있습니다. 금액을 확인한 뒤 내용증명이나 지급명령 서류를 준비할지 검토해 보세요.</p>
      <a class="cta" href="./calculator.html">떼인 돈 계산기 열기</a>
      <div class="notice-box">
        이 계산기는 입력하신 값을 기준으로 한 <strong>참고용 시뮬레이션</strong>입니다.<br />
        실제 소송·집행 결과와 다를 수 있으며, 최종 판단은 법률 전문가와 상의해 주세요.
      </div>
    </section>

    <section class="section" aria-label="상황 정리 키트 안내">
      <h2 class="section-title">비슷한 일이 반복될 때를 대비해, 셀프 정리 키트를 준비 중입니다</h2>
      <p class="text-sm text-gray-700">
        이 페이지와 계산기로 이번 사건을 한 번 정리해 보셨다면, 앞으로 비슷한 상황이 생겨도 같은 틀로 정리할 수 있도록 돕는 '셀프 정리 키트'를 준비하고 있습니다.
      </p>
      <ul class="mt-3 text-sm text-gray-700 space-y-1">
        <li>• 사건 요약 & 타임라인 한 장 템플릿</li>
        <li>• 증거·자료 체크리스트</li>
        <li>• 관계·상황별 연락 예시문 모음</li>
        <li>• 전문가 상담이 더 나을 수 있는지 점검하는 레드 라인 체크리스트</li>
      </ul>
      <p class="mt-2 text-xs text-gray-500">
        레드 라인 체크리스트는 형사 가능성, 고액·복잡한 분쟁, 다수 피해자가 얽힌 경우처럼 전문가 상담이 더 안전할 수 있는 상황을 스스로 점검해 보는 표입니다. 키트는 준비 중이며, 출시 알림은 결과 화면에서 신청하실 수 있습니다.
      </p>
    </section>

    <section class="section" id="disclaimer" aria-label="면책 및 법령 안내">
      <h2>면책 및 법령 안내</h2>
      <p class="text-sm text-gray-700">이 안내는 일반적인 기술 설명이며, 특정 시스템 설정이나 결과를 보장하는 문서가 아닙니다.</p>
      <p class="text-xs text-gray-600 mt-2">문제 해결을 위해 수집·공유하는 로그나 샘플 데이터는 필요한 범위에서만 최소한으로 처리하시기 바랍니다.</p>
    </section>

    <p class="footer">본 페이지의 안내는 일반적인 절차를 정리한 것으로, 개별 사건에 대한 법률 자문이 아닙니다.</p>
    <p class="footer" style="font-size:12px;color:#6b7280;">※ 본 서비스는 일반 정보 제공 및 계산 예시일 뿐, 개별 사건에 대한 법률 자문이 아닙니다. 실제 대응은 법률 전문가와 상의해 절차를 결정해 주세요.</p>
  </div>
</body>
</html>